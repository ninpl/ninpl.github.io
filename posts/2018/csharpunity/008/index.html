<!DOCTYPE html>
<html lang="">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Aprende C# con Unity - Clases - N9&#43;</title><meta name="Description" content="un blog sobre mi, juegos, desarrollo y anime"><meta property="og:title" content="Aprende C# con Unity - Clases" />
<meta property="og:description" content="Ya sea que lo recuerdes o no, has estado creando clases todo el tiempo en las lecciones anteriores. He comentado brevemente varias características de clases como herencia y constructores, pero hay mucho más por cubrir. En esta lección, nos enfocaremos en esos temas con mayor profundidad e introduciremos algunos temas más avanzados como polimorfismo, constructores estáticos, clases abstractas y clases estáticas.
GitHubGitlabHerencia La herencia es el concepto de que una clase toma todas las funcionalidades de una clase &ldquo;padre&rdquo; o &ldquo;base&rdquo; al mismo tiempo que brinda la oportunidad de ampliar o modificar la lógica previamente disponible." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ninpl.com/posts/2018/csharpunity/008/" /><meta property="og:image" content="https://ninpl.com/avatar.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-08-24T12:36:08+02:00" />
<meta property="article:modified_time" content="2018-08-24T12:36:08+02:00" /><meta property="og:site_name" content="N9&#43;" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://ninpl.com/avatar.png"/>

<meta name="twitter:title" content="Aprende C# con Unity - Clases"/>
<meta name="twitter:description" content="Ya sea que lo recuerdes o no, has estado creando clases todo el tiempo en las lecciones anteriores. He comentado brevemente varias características de clases como herencia y constructores, pero hay mucho más por cubrir. En esta lección, nos enfocaremos en esos temas con mayor profundidad e introduciremos algunos temas más avanzados como polimorfismo, constructores estáticos, clases abstractas y clases estáticas.
GitHubGitlabHerencia La herencia es el concepto de que una clase toma todas las funcionalidades de una clase &ldquo;padre&rdquo; o &ldquo;base&rdquo; al mismo tiempo que brinda la oportunidad de ampliar o modificar la lógica previamente disponible."/>
<meta name="application-name" content="Nineplus">
<meta name="apple-mobile-web-app-title" content="Nineplus"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://ninpl.com/posts/2018/csharpunity/008/" /><link rel="prev" href="https://ninpl.com/posts/2018/csharpunity/007/" /><link rel="next" href="https://ninpl.com/posts/2018/csharpunity/009/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Aprende C# con Unity - Clases",
        "inLanguage": "",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/ninpl.com\/posts\/2018\/csharpunity\/008\/"
        },"genre": "posts","keywords": "n9\u002b, csharp, unity","wordcount":  2411 ,
        "url": "https:\/\/ninpl.com\/posts\/2018\/csharpunity\/008\/","datePublished": "2018-08-24T12:36:08+02:00","dateModified": "2018-08-24T12:36:08+02:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "N9+"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('dark' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'dark' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="N9&#43;"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/avatar.png"
        data-srcset="/avatar.png, /avatar.png 1.5x, /avatar.png 2x"
        data-sizes="auto"
        alt="/avatar.png"
        title="/avatar.png" /><span class="header-title-pre"><i class='fa fa-angle-right'></i></span><span id="id-1" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/devblog/"><i class='fa-solid fa-gamepad'></i> devblog </a><a class="menu-item" href="/backdoor/"><i class='fa-solid fa-user-secret'></i> backdoor </a><a class="menu-item" href="https://github.com/ninpl" rel="noopener noreffer" target="_blank"><i class='fa-solid fa-code'></i> src </a><a class="menu-item" href="/perfil/"><i class='fa-solid fa-terminal'></i> nineplus </a><span class="menu-item delimiter"></span><a class="menu-item" href="https://github.com/ninpl" title="GitHub" rel="noopener noreffer" target="_blank"><i class="fa-brands fa-github-alt" aria-hidden="true"></i></a><a class="menu-item" href="https://gitlab.com/ninpl" title="Gitlab" rel="noopener noreffer" target="_blank"><i class="fa-brands fa-gitlab" aria-hidden="true"></i></a><a class="menu-item" href="https://trello.com/u/antoniomoon" title="Trello" rel="noopener noreffer" target="_blank"><i class="fa-brands fa-trello" aria-hidden="true"></i></a><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Busca títulos o contenido..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Buscar">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Limpiar">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Cambia el tema">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="N9&#43;"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/avatar.png"
        data-srcset="/avatar.png, /avatar.png 1.5x, /avatar.png 2x"
        data-sizes="auto"
        alt="/avatar.png"
        title="/avatar.png" /><span class="header-title-pre"><i class='fa fa-angle-right'></i></span><span id="id-2" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Busca títulos o contenido..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Buscar">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Limpiar">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancelar
                    </a>
                </div><a class="menu-item" href="/devblog/" title=""><i class='fa-solid fa-gamepad'></i>devblog</a><a class="menu-item" href="/backdoor/" title=""><i class='fa-solid fa-user-secret'></i>backdoor</a><a class="menu-item" href="https://github.com/ninpl" title="" rel="noopener noreffer" target="_blank"><i class='fa-solid fa-code'></i>src</a><a class="menu-item" href="/perfil/" title=""><i class='fa-solid fa-terminal'></i>nineplus</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Cambia el tema">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><article class="feature-image">
        <div class="header-img" style="background-image: url('https://ninpl.com/img/b/b002.jpg')"></div>
		</header></div>
    <article class="page single"><h1 class="single-title animate__animated animate__flipInX">Aprende C# con Unity - Clases</h1><div class="content" id="content"><p>Ya sea que lo recuerdes o no, has estado creando clases todo el tiempo en las lecciones anteriores. He comentado brevemente varias características de clases como herencia y constructores, pero hay mucho más por cubrir. En esta lección, nos enfocaremos en esos temas con mayor profundidad e introduciremos algunos temas más avanzados como polimorfismo, constructores estáticos, clases abstractas y clases estáticas.</p>
<p>
<a  href="https://github.com/CodeBackDoor/LearnCSharpUnity" target="_blank"  class="button">
  
  
  
    
  <i class="fa-brands fa-github-alt"></i>
    
  
  GitHub
  
</a>
<a  href="https://gitlab.com/CodeBackDoor/LearnCSharpUnity" target="_blank"  class="button">
  
  
  
    
  <i class="fa-brands fa-gitlab"></i>
    
  
  Gitlab
  
</a></p>
<h1 id="herencia">Herencia</h1>
<p>La herencia es el concepto de que una clase toma todas las funcionalidades de una clase &ldquo;padre&rdquo; o &ldquo;base&rdquo; al mismo tiempo que brinda la oportunidad de ampliar o modificar la lógica previamente disponible. El código de plantilla proporcionado por Unity para todos sus scripts hará que su script herede de &ldquo;MonoBehaviour&rdquo; de forma predeterminada.</p>
<p>Puedes decir qué la clase hereda de tu script al observar los dos puntos en la declaración de clase:</p>
<hr>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">HerenciaMono</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Yo heredo de MonoBehaviour</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><hr>
<p>No tiene que heredar de MonoBehaviour. Puede especificar cualquier otra clase en su lugar como &ldquo;Estadisticas&rdquo; (tenga en cuenta que tendría que haber creado una clase llamada Estadisticas para que compile):</p>
<hr>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">HerenciaEsta</span> <span class="p">:</span> <span class="n">Estadisticas</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Yo heredo de Estadisticas</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><hr>
<p>Si no especifica una clase para heredar, todavía hereda de algo: System.Object:</p>
<hr>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">ClaseNormal</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Yo heredo de System.Object aunque no lo menciono</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><hr>
<p>En C#, una clase solo puede tener una clase base. Si desea algo así como herencia múltiple, considere usar interfaces o arquitecturas basadas en componentes en su lugar.</p>
<h1 id="polimorfismo">Polimorfismo</h1>
<p>MonoBehaviour hereda de Behavior, que a su vez hereda de Component. El componente hereda de UnityEngine.Object que finalmente hereda de System.Object. Puedo decir que un MonoBehaviour es cualquiera de esas clases base (pero no siempre puedo decir lo contrario). Considere el siguiente ejemplo:</p>
<hr>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="cp">#region Librerias</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="err">#</span><span class="n">endregion</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">namespace</span> <span class="nn">MoonAntonio</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">public</span> <span class="k">class</span> <span class="nc">Polimorfismo</span> <span class="p">:</span> <span class="n">MonoBehaviour</span> 
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">void</span> <span class="n">Start</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">List</span><span class="p">&lt;</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span><span class="p">&gt;</span> <span class="n">myList</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">			<span class="n">myList</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&#34;Hola Mundo!&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="n">myList</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="m">42</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="n">myList</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">Camera</span><span class="p">.</span><span class="n">main</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">myList</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span> <span class="p">++</span><span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">				<span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="n">i</span> <span class="p">+</span> <span class="s">&#34;: &#34;</span> <span class="p">+</span> <span class="n">myList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">ToString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><hr>
<p>En este fragmento, declaro una lista genérica de objetos. Una lista genérica está restringida a contener un solo tipo de datos. Sin embargo, agrego tres cosas muy diferentes: una cadena de texto, un valor entero y un componente de cámara, todo sin problema. Cada uno de los tipos &ldquo;concretos&rdquo; aún comparte una &ldquo;base&rdquo; de &ldquo;Objeto&rdquo; y por lo tanto son adiciones válidas a la lista.</p>
<p>Debido al polimorfismo, puedo tratar estos tres elementos muy diferentes exactamente de la misma manera. Para demostrarlo, recorro todos los elementos de la lista y llamo a un método, todos comparten &ldquo;ToString&rdquo; e imprimen el resultado en la consola. El resultado es el siguiente:</p>
<p>0: Hola Mundo! 
1: 42 
2: Cámara principal (UnityEngine.Camera)</p>
<p>Cada elemento sabía cómo convertirse en una cadena a pesar de que todos pueden manejar el proceso de manera diferente. Por ejemplo, el componente de la cámara imprimió un mensaje informativo que incluía el nombre del GameObject al que estaba adjuntado. El código &ldquo;cliente&rdquo; (nuestro script de demostración que imprimió los mensajes en la consola) no necesita saber que los objetos son diferentes o cómo responderán a la llamada al método. Solo necesita saber que tienen el método.</p>
<p>Siempre es seguro tratar un objeto como una versión de clase base de sí mismo. Sin embargo, no siempre es seguro tratar una referencia de una clase base como una clase que hereda de ella. Considere la siguiente línea de código:</p>
<hr>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="n">Camera</span> <span class="n">c</span> <span class="p">=</span> <span class="n">myList</span><span class="p">[</span><span class="m">2</span><span class="p">];</span>
</span></span></code></pre></div><hr>
<p>Aunque sé que el objeto en el índice 2 de myList es una cámara, no puedo agregar esta línea al final del método. Si lo intenta, obtendrá un error, &ldquo;error CS0266: no se puede convertir implícitamente el tipo objeto &rsquo;en UnityEngine.Camera&rsquo;. Existe una conversión explícita (¿falta algo?) &quot;</p>
<p>El motivo por el que se produce este error es porque, aunque todos los componentes de la cámara son Objetos, no todos los objetos son cámaras. Esto es evidente incluso en la demostración, porque los otros dos &ldquo;objetos&rdquo; en la lista no son cámaras.</p>
<p>Para trabajar con el objeto en su verdadera forma, ahora debe &ldquo;echar&rdquo; el objeto hacia atrás. También puedes verificar primero el &ldquo;tipo&rdquo; de un objeto para asegurarte de que funcionará:</p>
<hr>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="c1">// Verifica el tipo de una referencia de objeto con la palabra clave &#34;es&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">myList</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="k">is</span> <span class="n">Camera</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  	<span class="c1">// Emitir la referencia usando el nombre de la clase entre paréntesis</span>
</span></span><span class="line"><span class="cl">  	<span class="n">Camera</span> <span class="n">c</span> <span class="p">=</span> <span class="p">(</span><span class="n">Camera</span><span class="p">)</span><span class="n">myList</span><span class="p">[</span><span class="m">2</span><span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><hr>
<p>Alternativamente, puede usar una palabra clave &ldquo;as&rdquo; para intentar tratar un objeto como un tipo específico:</p>
<hr>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="n">Camera</span> <span class="n">c</span> <span class="p">=</span> <span class="n">myList</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="k">as</span> <span class="n">Camera</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="s">&#34;success: &#34;</span> <span class="p">+</span> <span class="p">(</span><span class="n">c</span> <span class="p">!=</span> <span class="k">null</span><span class="p">));</span>
</span></span></code></pre></div><hr>
<p>Tenga en cuenta que en el ejemplo anterior, hice referencia al objeto en el índice 1 (un entero) que no se puede convertir a una cámara. Al usar la palabra clave &ldquo;as&rdquo;, a nuestra variable local se le asignará una referencia &ldquo;nula&rdquo; en el caso en que el lanzamiento falle.</p>
<h1 id="cómo-modificar-la-funcionalidad-de-la-clase-base">Cómo modificar la funcionalidad de la clase base</h1>
<p>Vimos que la implementación ToString de la cámara que es diferente de la implementación ToString de un entero. Supongamos que queremos que nuestro script crea una implementación diferente. Ponga el cursor fuera de sus otros métodos y comience a escribir &ldquo;override&rdquo; las características de autocompletar de su editor de scripts con la esperanza de comenzar y sugerir métodos que puede modificar. Visual studio me muestra: Equals, GetHashCode y ToString como opciones válidas para sobrescribir. Al seleccionar ToString, mi editor creó el siguiente fragmento:</p>
<hr>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">override</span> <span class="kt">string</span> <span class="n">ToString</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="kt">string</span><span class="p">.</span><span class="n">Format</span> <span class="p">(</span><span class="s">&#34;[Demo]&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><hr>
<p>La firma de este método debe resultarle familiar, con la excepción de la palabra clave &ldquo;override&rdquo;, que es lo que nos informa que podemos reemplazar, modificar o extender la funcionalidad de la clase base.</p>
<p>Con la implementación tal como está, llamar a ToString en instancias de nuestra clase informará a los usuarios que están haciendo referencia a una instancia de la clase Demo. Si tuviéramos información adicional que sería conveniente saber, podríamos agregarla a la cadena. Por ejemplo, imagine que teníamos dos campos llamados &lsquo;x&rsquo; e &lsquo;y&rsquo; que contienen información de coordenadas. Entonces podría usar la siguiente línea que nos dirá que tenemos una instancia de demostración así como también los valores que tiene actualmente:</p>
<hr>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">return</span> <span class="kt">string</span><span class="p">.</span><span class="n">Format</span> <span class="p">(</span><span class="s">&#34;[{0} x:{1} y:{2}]&#34;</span><span class="p">,</span> <span class="k">base</span><span class="p">.</span><span class="n">ToString</span><span class="p">(),</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
</span></span></code></pre></div><hr>
<h1 id="cómo-preparar-una-clase-para-la-herencia">Cómo preparar una clase para la herencia</h1>
<p>Imagina que quieres tener un montón de objetos de juego que sean &ldquo;seleccionables&rdquo;, pero cuando los seleccionas pasan cosas diferentes. Por ejemplo, seleccionar una silla puede hacer que el material de la silla destelle, lo que indica que lo tocó. Seleccionar un personaje puede causar una animación especial y un efecto de sonido para jugar. La mayoría de la lógica de selección en sí misma será la misma, pero los detalles de lo que sucede después de haber sido seleccionado son diferentes. En este caso, querrá volver a utilizar todo el código posible y luego extenderlo a la variación.</p>
<hr>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="cp">#region Librerias</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="err">#</span><span class="n">endregion</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">namespace</span> <span class="nn">MoonAntonio</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">public</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">Selectable</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">public</span> <span class="kt">bool</span> <span class="n">isSelected</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">protected</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="k">public</span> <span class="k">virtual</span> <span class="k">void</span> <span class="n">SetSelected</span><span class="p">(</span><span class="kt">bool</span> <span class="k">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="p">(</span><span class="n">isSelected</span> <span class="p">==</span> <span class="k">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">				<span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="n">isSelected</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="p">(</span><span class="n">isSelected</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">				<span class="n">Select</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">			<span class="k">else</span>
</span></span><span class="line"><span class="cl">				<span class="n">Deselect</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="k">protected</span> <span class="k">abstract</span> <span class="k">void</span> <span class="n">Select</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">		<span class="k">protected</span> <span class="k">abstract</span> <span class="k">void</span> <span class="n">Deselect</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><hr>
<p>Esta muestra presenta varias palabras clave nuevas. En la definición de clase, incluí la palabra clave &ldquo;abstract&rdquo;. Una clase base abstracta es una clase que no puede ser instanciada; si lo intenta, obtendrá un error, &ldquo;error CS0144: No se puede crear una instancia de la clase abstracta o interfaz &lsquo;Selectable&rsquo;&rdquo;</p>
<p>Lo mismo cuando trates de adjuntar un componente abstracto a un objeto en Unity. Verá un cuadro de diálogo de error si lo intenta, &ldquo;No se puede agregar el comportamiento del script Selectable. ¡La clase de guion no puede ser abstracta!</p>
<p>La razón por la que desea marcar un resumen de clase es porque cuando usa esta palabra clave, puede declarar métodos sin implementarlos. Puede dejar detalles específicos de implementación hasta subclases.</p>
<p>Con respecto a la visibilidad, ya he hablado de &ldquo;public&rdquo; y &ldquo;private&rdquo;, pero la propiedad de esta clase usa una nueva palabra clave: un &ldquo;protected&rdquo;. Esta palabra clave es similar a &ldquo;private&rdquo;, excepto que las subclases también tienen acceso permitido. Entonces, básicamente, la propiedad &ldquo;isSelected&rdquo; puede ser leída por otras clases, pero solo puede ser escrita por ella misma o por subclases de ella misma.</p>
<p>Tenemos un método público, llamado &ldquo;SetSelected&rdquo; que acepta un parámetro bool que indica si el objeto será o no seleccionado. Marqué este método como &ldquo;virtual&rdquo;, lo que indica que las subclases pueden &ldquo;override&rdquo; si desean modificar, reemplazar o ampliar la funcionalidad, pero no es necesario. Proporcioné una implementación predeterminada que funciona. El método en sí mismo verifica si estamos tratando de establecer el objeto en un estado de selección en el que ya se encuentra, y si es así, regresa. Luego marca la propiedad isSelected y llama a un método que refleja su nuevo estado de selección.</p>
<p>Finalmente tengo dos métodos &ldquo;protegidos&rdquo;, &ldquo;Select&rdquo; y &ldquo;Deselect&rdquo;. Protegido implica el mismo significado aquí, otras clases no pueden ver o invocar estos métodos, a menos que sean una subclase de &ldquo;Selectable&rdquo;. También marqué los dos métodos como &ldquo;abstract&rdquo; que, a diferencia del uso de &ldquo;virtual&rdquo;, significa que la subclase debe &ldquo;override&rdquo; el método (a menos que también sean clases abstractas).</p>
<p>Tenga en cuenta que solo puede marcar un método como abstracto si la clase también es abstracta o si obtiene un error, &ldquo;error CS0513: Selectable.Select() &rsquo;es abstracto pero se declara en la clase no abstracta Selectable&rsquo;&rdquo;</p>
<p>Si crea una subclase no abstracta y no implementa los métodos abstractos, obtendrá otro error, &ldquo;error CS0534: SelectableDecoration &rsquo;no implementa el miembro abstracto heredado Selectable.Select()&rsquo;&rdquo;</p>
<h1 id="constructores-y-destructores">Constructores y Destructores</h1>
<p>Los constructores le permiten controlar lo que sucede cuando se crea una instancia de un objeto o cómo se crea una instancia. Los destruidores le permiten controlar lo que sucede cuando se destruye un objeto y proporcionan una forma de limpiar los recursos, etc.</p>
<hr>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="cp">#region Librerias</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="err">#</span><span class="n">endregion</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">namespace</span> <span class="nn">MoonAntonio</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">public</span> <span class="k">class</span> <span class="nc">Point</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">public</span> <span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="k">public</span> <span class="kt">int</span> <span class="n">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="k">public</span> <span class="n">Point</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="s">&#34;¡Estoy vivo! ... pero estoy a cero.&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="k">public</span> <span class="n">Point</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">this</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="n">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="k">this</span><span class="p">.</span><span class="n">y</span> <span class="p">=</span> <span class="n">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="s">&#34;Whoooa, debo ser valioso!&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="p">~</span><span class="n">Point</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="s">&#34;Me estoy derritiendo, FUNDICIÓN !!!&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">public</span> <span class="k">class</span> <span class="nc">Constructores</span> <span class="p">:</span> <span class="n">MonoBehaviour</span> 
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">public</span> <span class="k">void</span> <span class="n">Start</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">Point</span> <span class="n">p1</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Point</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">			<span class="n">Point</span> <span class="n">p2</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">5</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><hr>
<p>Esta muestra definió una clase llamada &ldquo;Point&rdquo; que muestra dos constructores diferentes: un constructor &ldquo;predeterminado&rdquo; (uno sin parámetros) y un constructor con parámetros. Se puede decir que un método es un constructor porque no tiene un tipo de retorno y porque el identificador tiene el mismo nombre que el nombre de la clase.</p>
<p>La clase Constructores crea dos instancias de la clase Point, una para cada tipo de constructor. Tenga en cuenta que debe usar la palabra clave &ldquo;new&rdquo; junto con el constructor o obtendrá un error, &ldquo;error CS0119: expresión denota un &rsquo;tipo&rsquo;, donde se esperaba una variable, valor o grupo de métodos&rdquo;</p>
<p>También tenga en cuenta que no debe usar constructores con scripts basados ​​en MonoBehaviour. Si lo intenta, verá una advertencia en la consola, &ldquo;Está tratando de crear un comportamiento mono con la palabra clave &rsquo;new&rsquo;. Esto no esta permitido. MonoBehaviours solo se puede agregar usando AddComponent(). Alternativamente, su script puede heredar de ScriptableObject o no tener ninguna clase base&rdquo;. Unity requiere que cree objetos y que una los componentes de manera especial para que pueda configurar y rastrear todo correctamente.</p>
<p>Nuestra clase Point también define un &ldquo;Destructor&rdquo; que puedes identificar con la tilde que procede con un identificador que coincide con el nombre de la clase. A diferencia de un constructor, no invocas directamente un destructor. Se llamará automáticamente cuando un objeto sale &ldquo;fuera del alcance&rdquo; o se destruye. En este ejemplo, las instancias de dos puntos son locales al método &ldquo;Start&rdquo;, por lo que tan pronto como el método finalice ya estarán fuera del alcance.</p>
<p>Si adjunta este script a un GameObject y ejecuta su escena, verá el siguiente resultado en la ventana de la consola:</p>
<p>¡Estoy vivo! &hellip; pero estoy a cero. 
Whoooa, debo ser valioso! 
Me estoy derritiendo, FUNDICIÓN !!! 
Me estoy derritiendo, FUNDICIÓN !!!</p>
<h1 id="constructores-estáticos">Constructores estáticos</h1>
<p>De la misma manera que puede especificar la lógica para el inicio de una instancia de una clase, también puede especificar la lógica para el inicio de la clase. Un constructor estático no se invoca directamente, sino que se llamará inmediatamente (y solo una vez) tan pronto como cualquier clase haga referencia a la clase. Un constructor estático parece un constructor normal, pero va precedido de la palabra clave &ldquo;static&rdquo;.</p>
<hr>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">static</span> <span class="n">Point</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="s">&#34;Hola Mundo!&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><hr>
<p>Si agregó esto a la clase Point en la muestra anterior, verá &ldquo;Hola Mundo!&rdquo; Impreso en la consola antes de que se haya instanciado el primer punto.</p>
<p>Si su clase hace uso de variables estáticas, el constructor estático es un buen lugar para inicializarlas.</p>
<h1 id="clases-estáticas">Clases estáticas</h1>
<p>Una clase que está marcada como estática no puede ser instanciada. Todas las variables y métodos que contiene también se deben marcar como estáticos.</p>
<hr>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="cp">#region Librerias</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="err">#</span><span class="n">endregion</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">namespace</span> <span class="nn">MoonAntonio</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">Global</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">	  <span class="k">public</span> <span class="k">static</span> <span class="kt">int</span> <span class="n">count</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	  <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="n">DoStuff</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">	  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="n">count</span><span class="p">++;</span>
</span></span><span class="line"><span class="cl">	    <span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="s">&#34;Tengo &#34;</span> <span class="p">+</span> <span class="n">count</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	  <span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><hr>
<p>Si intenta crear una instancia de una clase estática, obtendrá un error, &ldquo;error CS0723: prueba: no ​​puede declarar variables de tipos estáticos&rdquo;</p>
<p>Si intentas subclasificar una clase estática, también obtendrás un error, &ldquo;error CS0709: Test : no ​​puede derivar de la clase estática Global&rdquo;</p>
<p>Trabaja con una clase estática haciendo referencia al nombre de la clase y usa la notación de puntos, como Global.DoStuff();</p>
<p>Las clases estáticas pueden ser formas convenientes de almacenar información a la que cualquier cosa puede acceder desde cualquier punto, porque no necesita hacer un seguimiento u obtener una instancia de la clase. Tenga en cuenta que los campos estáticos vivirán tanto como lo haga la clase, que es la duración del programa.</p>
<figure><a class="lightgallery" href="/img/codebackdoor/learncsharpunity/09.gif" title="/img/codebackdoor/learncsharpunity/09.gif" data-thumbnail="/img/codebackdoor/learncsharpunity/09.gif" data-sub-html="<h2>.</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/codebackdoor/learncsharpunity/09.gif"
            data-srcset="/img/codebackdoor/learncsharpunity/09.gif, /img/codebackdoor/learncsharpunity/09.gif 1.5x, /img/codebackdoor/learncsharpunity/09.gif 2x"
            data-sizes="auto"
            alt="/img/codebackdoor/learncsharpunity/09.gif" />
    </a><figcaption class="image-caption">.</figcaption>
    </figure>
<div class="details admonition success open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-check-circle fa-fw" aria-hidden="true"></i>Resumen<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">En esta lección, cubrimos una gran cantidad de características de las clases que incluyen constructores normales y estáticos, destructores, herencia y polimorfismo. Introduje nuevas palabras clave como abstract, virtual, override y protected. También mostré cómo una clase en sí misma puede ser abstracta o estática. Aunque muchas de estas características son fáciles de mostrar, se pueden considerar material avanzado. La arquitectura que aprovecha estas características puede ser difícil de entender por completo.</div>
        </div>
    </div>

<a  href="https://bit.ly/3SmozpU" target="_blank"  class="button">
  
  
  
    
  <i class="fa fa-caret-right"></i>
    
  
  Siguiente - Guardando datos
  
</a>
<hr>
<figure><a class="lightgallery" href="/img/ref.png" title="/img/ref.png" data-thumbnail="/img/ref.png" data-sub-html="<h2>.</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/ref.png"
            data-srcset="/img/ref.png, /img/ref.png 1.5x, /img/ref.png 2x"
            data-sizes="auto"
            alt="/img/ref.png" />
    </a><figcaption class="image-caption">.</figcaption>
    </figure>
</div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2015 - 2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://ninpl.com" target="_blank">N9&#43;</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Volver arriba">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="Ver comentarios">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.stemmer.support.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.es.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/typeit@8.6.0/dist/index.umd.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copiar al portapapeles","maxShownLines":50},"comment":{},"data":{"id-1":" N9+","id-2":" N9+"},"lightgallery":true,"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"es","maxResultLength":10,"noResultsFound":"No se encontraron resultados","snippetLength":30,"type":"lunr"},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":-1,"speed":100}};</script><script type="text/javascript" src="/js/theme.min.js"></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'G-V17LGH4N3N', { 'anonymize_ip': true });
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-V17LGH4N3N" async></script></body>
</html>
